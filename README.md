# niuniu protocol

# usage

cd bin
./ctrl build
./ctrun run

# protocol
protobuf

# document


选庄时间显示10秒，实际时间为20秒
下注时间显示10秒，实际时间为20秒
组合手牌时间显示12秒，实际时间为30秒

流程：
开始牌局 发4张牌(正面显示) 抢庄阶段(多人抢或无人抢时随机分配)

闲家下注(超时默认1倍) 发第5张牌(正面显示) 组合手牌 推开手牌

比拼大小 积分结算 结束牌局

【基本规则】
房主在创建房间时，需要选择进入人数，最少需要3名玩家后，才能开始游戏，在第一局游戏开始后，无法进入房间
总共52张牌（无大小王）
定庄后，正面展示玩家手牌，玩家可以自己根据5张牌进行排列组合，组合后，与庄家进行比拼，决定胜负
下注时，只允许闲家下注，庄家无法下注

【比拼规则】
玩家从手牌中任意选择3张进行组合（确定有牛），
组合后，点击摊牌按钮，即打开手牌
当所有玩家摊开手牌后，则与庄家比拼大小
如果是五小或炸弹牌型，则无需组合，即可选择摊牌

牌型:(牌面分数：10、J、Q、K都为10，其他按牌面数字计算)
无牛：5张中任意3张相加不能成为10的倍数
有牛：5张中任意3张相加能成为10的倍数(牛几等于另2张相加后的个位数)
牛牛：5张中任意3张相加能成为10的倍数,另外2张相加也是10的倍数
四花：5张中1张10,另外4张为花牌(大于10的牌)
五花：5张全部为花牌
五小：5张全部小于5且相加小于10
炸弹：5张中4张相同的牌

大小比较
牌型：炸弹>五小>五花>四花>牛牛>有牛>无牛
花色：黑桃>红桃>草花>方块
单张：K>Q>J>10>9>8>7>6>5>4>3>2>A
无牛：比单张大小
有牛：比牌型大小，牛九>牛八>牛七>牛六>牛五>牛四>牛三>牛二>牛一
牛牛：比单张+花色的大小
四花：比单张+花色的大小
五花：比单张+花色的大小
五小：比点数+单张+花色的大小
炸弹：大牌吃小牌，K最大，A最小

积分计算
无牛,牛1~6:   1倍
牛7~9:        2倍
牛牛：        3倍
四花：        4倍
五花：        5倍
五小：        6倍
炸弹：        6倍

玩家胜负积分=倍数*抢庄下注额度
如：玩家A抢庄成为庄家，玩家B下注4，以牛牛牌型获得胜利，
则，玩家A需支付给玩家B的分数为： 4*3=12

100人的是只有五家,
庄家，天，地，玄，黄
1,2,3,4,5

玩家可以选择上庄(达到一定条件可以上庄,在下注时间结束时都可以选择上庄)，
多人选择上庄时按队列等待开轮做庄，没人上庄时，系统当庄，一个玩家开始下注时则开始下注倒计时
时间到时发牌，开牌，结算

私人场玩家全部准备才开始，由玩家自己选择组合牛，玩家不操作则一直等待，没有超时机制
